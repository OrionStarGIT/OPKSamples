{"version":3,"sources":["/Users/wrx/simpleCode/index.js","/Users/wrx/simpleCode/node_modules/orionos-eve-core/index.ts","/Users/wrx/simpleCode/node_modules/orionos-eve-core/src/robot/api/AppManager.ts","/Users/wrx/simpleCode/node_modules/orionos-eve-core/src/robot/api/RobotSettingApi.ts","/Users/wrx/simpleCode/node_modules/orionos-eve-core/src/robot/api/AppUpdateManager.ts","/Users/wrx/simpleCode/app/App.js","/Users/wrx/simpleCode/app/demo/DemoScreen.tsx","/Users/wrx/simpleCode/app/demo/DemoViewModel.ts","/Users/wrx/simpleCode/app/demo/DemoModel.ts","/Users/wrx/simpleCode/app/demo/DemoVoice.ts","/Users/wrx/simpleCode/app/demo/DemoTrigger.ts","/Users/wrx/simpleCode/package.json","/Users/wrx/simpleCode/app.json","/Users/wrx/simpleCode/app/AppDebug.js"],"sourcesContent":["/** @format */\n\nimport { AppRegistry } from 'react-native';\nimport App from './app/App';\nimport { appid } from './package';\nimport { name as appName } from './app.json';\nimport AppDebug from './app/AppDebug';\n\n//关闭其中某些yellow警告\nconsole.ignoredYellowBox = ['Warning: BackAndroid is deprecated. Please use BackHandler instead.','source.uri should not be an empty string','Invalid props.style key'];\n// 关闭全部yellow警告\nconsole.disableYellowBox = true;\n\n//上线使用\nAppRegistry.registerConfig([{\n    appKey: 'Demo',\n    component: () => App,\n    intent: ['demonstrate_app&open'],\n    appId: appid,\n    priority: 1\n}]);\n\n//Debug调试使用\nAppRegistry.registerComponent(appName, () => AppDebug);\n","/**\n Copyright (C) 2020 Beijing Kingsoft Internet Security Software Co., Ltd. and Beijing Orion Star Technology Co., Ltd\n Licensed under the Robot OS License Agreement (the \"License\").\n You may not use this file except in compliance with the License.\n You may obtain a copy of the License at  https://wiki.orionbase.cn/devguide/robot-osxu-ke-xie-yi.html\n Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and limitations under the License.\n */\n\nexport * from './Eve';\nexport * from './src/robot/api/AppManager';\nexport * from './src/robot/api/AppUpdateManager';\n","/**\n Copyright (C) 2020 Beijing Kingsoft Internet Security Software Co., Ltd. and Beijing Orion Star Technology Co., Ltd\n Licensed under the Robot OS License Agreement (the \"License\").\n You may not use this file except in compliance with the License.\n You may obtain a copy of the License at  https://wiki.orionbase.cn/devguide/robot-osxu-ke-xie-yi.html\n Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { NativeModules } from 'react-native';\nimport initialProps from '../../Initial';\nimport { DEV_ERROR_SUPPORT, newError, newWarn } from '../../utils/Utils';\n\nconst appManager = NativeModules.AppManager;\n\n/**\n * opk相关信息类\n */\nexport class AppManager {\n    private static readonly appId = null;\n\n    /**\n     * 获取当前opk　信息\n     * @returns opk 信息json串\n     */\n    public static getAppJson(): string {\n        if (this.appId) {\n            if (initialProps.isSupportPlugin) {\n                return appManager.getAppJsonByAppId(this.appId);\n            } else {\n                newError(DEV_ERROR_SUPPORT);\n                return '';\n            }\n        } else {\n            try {\n                return appManager.getAppJson();\n            } catch (error) {\n                console.error(error);\n                return '';\n            }\n        }\n    }\n\n    /**\n     * 获取当前业务bundle　路径\n     * @returns bundle　路径\n     */\n    public static getOpkPath(): string {\n        if (this.appId) {\n            if (initialProps.isSupportPlugin) {\n                return appManager.getOpkPathByAppId(this.appId);\n            } else {\n                newError(DEV_ERROR_SUPPORT);\n                return '';\n            }\n        } else {\n            try {\n                return appManager.getOpkPath();\n            } catch (error) {\n                console.error(error);\n                return '';\n            }\n        }\n    }\n\n    /**\n     * 获取当前opk　额外资源路径\n     * @returns 额外资源路径\n     */\n    public static getOpkExtraPath(): string {\n        if (this.appId) {\n            if (initialProps.isSupportPlugin) {\n                return appManager.getOpkExtraPathByAppId(this.appId);\n            } else {\n                newError(DEV_ERROR_SUPPORT);\n                return '';\n            }\n        } else {\n            try {\n                return appManager.getOpkExtraPath();\n            } catch (error) {\n                console.error(error);\n                return '';\n            }\n        }\n    }\n\n    /**\n     * 获取OPK图标\n     */\n    public static getAppIcon(): string {\n        if (initialProps.isSupportPlugin) {\n            return appManager.getAppIcon(this.appId);\n        } else {\n            newError(DEV_ERROR_SUPPORT);\n            return '';\n        }\n    }\n\n    /**\n     * 获取OPK配置\n     */\n    public static getAppConfig(): string {\n        if (initialProps.isSupportPlugin) {\n            return appManager.getAppConfig(this.appId);\n        } else {\n            newError(DEV_ERROR_SUPPORT);\n            return '';\n        }\n    }\n\n    /**\n     * 重启OPK\n     */\n    public static restartApp() {\n        if (initialProps.isSupportPlugin) {\n            appManager.restartApp(this.appId);\n        } else {\n            newError(DEV_ERROR_SUPPORT);\n        }\n    }\n\n    public static startApp(appId?: string) {\n        let msg = 'The device does not support startApp API.';\n        newWarn(msg);\n    }\n\n    public static destroyApp(appId?: string) {\n        let msg = 'The device does not support destroyApp API.';\n        newWarn(msg);\n    }\n\n    public static moveToForeground(appId?: string) {\n        let msg = 'The device does not support moveToForeground API.';\n        newWarn(msg);\n    }\n\n    public static moveToBack(appId?: string) {\n        let msg = 'The device does not support moveToBack API.';\n        newWarn(msg);\n    }\n\n    public static setAppPath(appId?: string, path?: string) {\n        if (initialProps.isSupportNlpParser) {\n            appManager.setAppPath(appId, path);\n        } else {\n            let msg = 'The device does not support setAppPath API.';\n            newError(msg);\n        }\n    }\n\n    public static setAppVersion(appId?: string, version?: string) {\n        let msg = 'The device does not support setAppVersion API.';\n        newWarn(msg);\n    }\n\n    public static setAppInfo(\n        appId?: string,\n        path?: string,\n        subPage?: string,\n        version?: string\n    ) {\n        if (initialProps.isSupportNlpParser) {\n            if (appId) {\n                appManager.setAsyncCustomNlpData(\n                    'opt_scene_switch',\n                    JSON.stringify({\n                        // eslint-disable-next-line @typescript-eslint/camelcase\n                        app_id: appId,\n                        path: path == undefined ? '' : path,\n                        subPage: subPage == undefined ? '' : subPage,\n                        version: version == undefined ? '' : version\n                    })\n                );\n            } else {\n                let msg = 'nlp_launcher_:setAppInfo appId is null';\n                newError(msg);\n            }\n        } else {\n            let msg = 'The device does not support setAsyncCustomNlpData API.';\n            newError(msg);\n        }\n    }\n}\n","/**\n Copyright (C) 2020 Beijing Kingsoft Internet Security Software Co., Ltd. and Beijing Orion Star Technology Co., Ltd\n Licensed under the Robot OS License Agreement (the \"License\").\n You may not use this file except in compliance with the License.\n You may obtain a copy of the License at  https://wiki.orionbase.cn/devguide/robot-osxu-ke-xie-yi.html\n Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { NativeModules } from 'react-native';\nimport initialProps from '../../Initial';\nimport { newError } from '../../utils/Utils';\n\nconst robotSettingApi = NativeModules.RobotSettingApi;\n\nexport class RobotSettingApi {\n    public static getRobotString(key: string): Promise<string> {\n        if (initialProps.isSupportRobotSettingApi) {\n            return robotSettingApi.getRobotString(key);\n        } else {\n            let msg = 'This system version does not support getRobotString.';\n            newError(msg);\n            return Promise.reject(msg);\n        }\n    }\n\n    public static getRobotFloat(key: string): Promise<number> {\n        if (initialProps.isSupportRobotSettingApi) {\n            return robotSettingApi.getRobotFloat(key);\n        } else {\n            let msg = 'This system version does not support getRobotFloat.';\n            newError(msg);\n            return Promise.reject(msg);\n        }\n    }\n\n    public static getRobotInt(key: string): Promise<number> {\n        if (initialProps.isSupportRobotSettingApi) {\n            return robotSettingApi.getRobotInt(key);\n        } else {\n            let msg = 'This system version does not support getRobotInt.';\n            newError(msg);\n            return Promise.reject(msg);\n        }\n    }\n\n    public static setRobtoString(key: string, value: string): void {\n        if (initialProps.isSupportRobotSettingApi) {\n            robotSettingApi.setRobtoString(key, value);\n        } else {\n            newError('This system version does not support setRobtoString.');\n        }\n    }\n\n    public static setRobtoFloat(key: string, value: number): void {\n        if (initialProps.isSupportRobotSettingApi) {\n            robotSettingApi.setRobtoFloat(key, value);\n        } else {\n            newError('This system version does not support setRobtoFloat.');\n        }\n    }\n\n    public static setRobtoInt(key: string, value: number): void {\n        if (initialProps.isSupportRobotSettingApi) {\n            robotSettingApi.setRobtoInt(key, value);\n        } else {\n            newError('This system version does not support setRobtoInt.');\n        }\n    }\n\n    public static registerRobotSettingListener(\n        callbackId: number,\n        keys: string[]\n    ): void {\n        if (initialProps.isSupportRobotSettingApi) {\n            robotSettingApi.registerRobotSettingListener(callbackId, keys);\n        } else {\n            newError(\n                'This system version does not support registerRobotSettingListener.'\n            );\n        }\n    }\n\n    public static unRegisterRobotSettingListener(callbackId: number): void {\n        if (initialProps.isSupportRobotSettingApi) {\n            robotSettingApi.unRegisterRobotSettingListener(callbackId);\n        } else {\n            newError(\n                'This system version does not support unRegisterRobotSettingListener.'\n            );\n        }\n    }\n}\n","/**\n Copyright (C) 2020 Beijing Kingsoft Internet Security Software Co., Ltd. and Beijing Orion Star Technology Co., Ltd\n Licensed under the Robot OS License Agreement (the \"License\").\n You may not use this file except in compliance with the License.\n You may obtain a copy of the License at  https://wiki.orionbase.cn/devguide/robot-osxu-ke-xie-yi.html\n Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport {\n    DeviceEventEmitter,\n    EmitterSubscription,\n    NativeModules\n} from 'react-native';\nimport initialProps from '../../Initial';\nimport { DEV_ERROR_SUPPORT, newError } from '../../utils/Utils';\n\nconst updateManager = NativeModules.AppUpdateManager;\n\n/**\n * opk更新相关类（主要用于插件的更新及卸载）\n */\nexport class AppUpdateManager {\n    private static readonly appId = null;\n\n    private static updateProgress: EmitterSubscription;\n    private static updateResult: EmitterSubscription;\n\n    /**\n     * 当前是否正在进行初始化安装\n     * @returns\n     */\n    public static isInitInstall(): boolean {\n        if (initialProps.isSupportPlugin) {\n            return updateManager.isInitInstall(this.appId);\n        } else {\n            newError(DEV_ERROR_SUPPORT);\n            return false;\n        }\n    }\n\n    /**\n     * 是否正在进行更新\n     * @returns\n     */\n    public static isUpdating(): boolean {\n        if (initialProps.isSupportPlugin) {\n            return updateManager.isUpdating(this.appId);\n        } else {\n            newError(DEV_ERROR_SUPPORT);\n            return false;\n        }\n    }\n\n    /**\n     * 检查是否需要更新\n     * @returns\n     */\n    public static checkUpdate(): boolean {\n        if (initialProps.isSupportPlugin) {\n            return updateManager.checkUpdate(this.appId);\n        } else {\n            newError(DEV_ERROR_SUPPORT);\n            return false;\n        }\n    }\n\n    /**\n     * 设置更新进度监听\n     * @param listener\n     */\n    public static setUpdateListener(\n        updateStatus: (\n            count: number,\n            index: number,\n            appName: string,\n            oper: string\n        ) => void,\n        updateResult: (result: boolean, message: string) => void\n    ) {\n        if (!initialProps.isSupportPlugin) {\n            newError(DEV_ERROR_SUPPORT);\n            return;\n        }\n\n        if (this.updateProgress) {\n            this.updateProgress.remove();\n        }\n\n        this.updateProgress = DeviceEventEmitter.addListener(\n            'updateProgress',\n            (data: any) => {\n                let status = JSON.parse(data);\n                updateStatus(\n                    status.count,\n                    status.index,\n                    status.appName,\n                    status.oper\n                );\n            }\n        );\n\n        if (this.updateResult) {\n            this.updateResult.remove();\n        }\n\n        this.updateResult = DeviceEventEmitter.addListener(\n            'updateResult',\n            (data: any) => {\n                let result = JSON.parse(data);\n                updateResult(result.result, result.message);\n            }\n        );\n\n        updateManager.setUpdateListener();\n    }\n\n    /**\n     * 开始更新\n     */\n    public static startUpdate() {\n        if (initialProps.isSupportPlugin) {\n            updateManager.startUpdate(this.appId);\n        } else {\n            newError(DEV_ERROR_SUPPORT);\n        }\n    }\n\n    /**\n     * 更新重试\n     */\n    public static retryUpdate() {\n        if (initialProps.isSupportPlugin) {\n            updateManager.retryUpdate(this.appId);\n        } else {\n            newError(DEV_ERROR_SUPPORT);\n        }\n    }\n\n    public static cancelUpdate() {\n        if (initialProps.isSupportPlugin) {\n            updateManager.cancelUpdate(this.appId);\n        } else {\n            newError(DEV_ERROR_SUPPORT);\n        }\n    }\n}\n","import { BaseComponent } from 'orionos-eve-core';\nimport React from 'react';\nimport { DemoScreen } from './demo/DemoScreen';\n\n/**\n * 主界面\n */\nconst TAG = 'demoApp'\nexport default class App extends BaseComponent {\n\n    constructor(props) {\n        super(props);\n\n        console.log(TAG, 'constructor', props)\n    }\n\n    componentDidMount() {\n        super.componentDidMount();\n    }\n\n    componentWillMount() {\n        console.log();\n    }\n\n    componentWillUnmount() {\n        super.componentWillUnmount();\n    }\n\n    render() {\n        return (<DemoScreen {...this.props}/>);\n    }\n}\n","import { BaseComponent, triggerManager, BaseComponentProps, ReceptionRegisterCameraView } from 'orionos-eve-core';\nimport React from 'react';\nimport { observer } from 'mobx-react';\nimport { Text, View } from 'react-native';\nimport { DemoViewModel } from './DemoViewModel';\nimport { DemoVoice } from './DemoVoice';\nimport { DemoTrigger } from './DemoTrigger';\nimport { demoModel } from './DemoModel';\n\n//注册trigger跳转，必须添加，否则trigger无效\ntriggerManager.addTrigger(new DemoTrigger());\n\n/**\n * 功能UI界面\n */\n@observer\nexport class DemoScreen extends BaseComponent<BaseComponentProps, DemoViewModel, DemoVoice> {\n\n    public viewModel: DemoViewModel;\n\n    public constructor(props: BaseComponentProps) {\n        super(props);\n\n        this.viewModel = new DemoViewModel();\n        let voice = new DemoVoice(this.viewModel);\n\n        //关联ViewModel及Voice的生命周期到当前界面上\n        this.setViewModel(this.viewModel);\n        this.setVoice(voice);\n    }\n\n    public componentDidMount() {\n        //重写界面的didMount，必须调用super\n        super.componentDidMount();\n    }\n\n    public componentWillMount() {\n\n    }\n\n    public componentWillUnmount() {\n        //重写界面的Unmount，必须调用super\n        super.componentWillUnmount();\n    }\n\n    public render() {\n        return (\n            <View style={{height: '100%', display: 'flex', justifyContent: 'center',alignItems: 'center'}}>\n                <ReceptionRegisterCameraView\n                style={{width: 200, height: 200}}\n                onPreviewState={this.onPreviewStatusUpdate} \n                onCaptureState={this.onCamareViewCapture}></ReceptionRegisterCameraView>\n            </View>\n        );\n\n    }\n\n    public onPreviewStatusUpdate = (state: any): void => { \n        //TODO: 结果处理\n        console.log('ReceptionRegisterCameraView', state);\n        if (state !== 'RESULT_SUCCESS') {\n        }\n    };   \n    \n    public onCamareViewCapture = (state: string,\n        originalImageFile: string,\n        compressedFile: string): void => {\n        console.log('onCamareViewCapture', state, originalImageFile, compressedFile)\n    }\n}\n","import { BaseViewModel } from 'orionos-eve-core';\nimport { demoModel } from './DemoModel';\n\n/**\n * 业务逻辑\n */\nexport class DemoViewModel extends BaseViewModel {\n\n    public constructor() {\n        //super参数为ViewModel与Trigger相互通信的标识，必须保证与Trigger的一致\n        super('Demo');\n    }\n\n    public onStart() {\n\n    }\n\n    public onStop() {\n\n    }\n\n    public exit() {\n        //发送消息到Trigger中，eventId为消息id, data为携带的数据\n        this._apiTrigger(1001, '');\n    }\n\n    public showSpeechText(text: string) {\n        console.log('DemoVoice : set ' + text);\n        demoModel.setInfoText(text);\n    }\n\n}\n","/**\n Copyright (C) 2020 Beijing Kingsoft Internet Security Software Co., Ltd. and Beijing Orion Star Technology Co., Ltd\n Licensed under the Robot OS License Agreement (the \"License\").\n You may not use this file except in compliance with the License.\n You may obtain a copy of the License at  https://wiki.orionbase.cn/devguide/robot-osxu-ke-xie-yi.html\n Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { observable, action } from 'mobx';\n\n\nexport class DemoModel {\n    @observable private infoText = 'Hello Robot!';\n\n    @action\n    public setInfoText(infoText: string) {\n        console.log('DemoVoice Set info text : ' + infoText);\n        this.infoText = infoText;\n    }\n\n    public getInfoText(): string {\n        return this.infoText;\n    }\n}\n\nexport const demoModel = new DemoModel();\n","import { BaseVoice } from 'orionos-eve-core';\nimport { DemoViewModel } from './DemoViewModel';\n\n/**\n * 语音处理\n */\nexport class DemoVoice extends BaseVoice {\n\n    private viewModel: DemoViewModel;\n\n    public constructor(viewModel: DemoViewModel) {\n        super('DemoVoice');\n        this.viewModel = viewModel;\n    }\n\n    /**\n     * 接收语音指令\n     *\n     * @param intent 语音指令标识\n     * @param result 语音识别的数据\n     * @param id\n     * @param text 语音识别文本\n     *\n     * @return {boolean}\n     *         true 表示该语音指令已被处理，会拦截掉语音指令\n     *         false 语音指令未被处理，交给其它opk处理\n     */\n    public onListenCallback(intent: string, result: any, id: number, text: string): boolean {\n        console.log('demoApp', 'onListenCallback', intent, result, id, text);\n        switch (intent) {\n            case 'general_command&stop':\n                this.viewModel.exit();\n                return true;\n\n            default:\n                this.viewModel.showSpeechText(`${intent} : ${text}`);\n                return true;\n        }\n    }\n\n    public speak(): void {\n    }\n\n}\n","import { Trigger, TriggerProtocol } from 'orionos-eve-core';\n\n/**\n * 页面路由跳转，可从业务流程切换到主流程\n */\nexport class DemoTrigger extends Trigger {\n\n    public constructor() {\n        //super参数为Trigger与ViewModel相互通信的标识，必须保证与ViewModel的一致\n        super('Demo');\n    }\n\n    public navSwitch(from: string, to: string): void {\n    }\n\n    /**\n     * 接收处理ViewModel发送过来的消息\n     *\n     * @param protocol\n     */\n    public trigger(protocol: TriggerProtocol): void | boolean {\n        switch (protocol.eventId) {\n            case 1001:\n                //页面路由跳转，单独调试的时候无效， 可能会出现红屏，在作为插件安装后，可跳转其它功能\n                //跳转到首页，home为在index.js中注册的appKey\n                this._trigger('home', protocol);\n                break;\n        }\n        return undefined;\n    }\n\n}\n","{\n\t\"name\": \"simpleCode\",\n\t\"version\": \"0.0.2\",\n\t\"appid\": \"system_2d01160272669884793b18983a46dcd0\",\n\t\"private\": true,\n\t\"commitId\": \"\",\n\t\"opkType\": \"plugin\",\n\t\"scripts\": {\n\t\t\"run\": \"orionos-sh run\",\n\t\t\"pack\": \"orionos-sh pack\"\n\t},\n\t\"dependencies\": {\n\t\t\"@types/react-native-snap-carousel\": \"^3.7.4\",\n\t\t\"eslint-plugin-orion-os\": \"^0.8.0\",\n\t\t\"orionos-eve-core\": \"1.34.1\",\n\t\t\"react-native-snap-carousel\": \"^3.8.0\",\n\t\t\"rn-viewpager\": \"^1.2.9\"\n\t},\n\t\"devDependencies\": {\n\t\t\"@babel/core\": \"7.4.5\",\n\t\t\"@babel/plugin-proposal-class-properties\": \"7.4.4\",\n\t\t\"@babel/plugin-proposal-decorators\": \"7.4.4\",\n\t\t\"@babel/preset-env\": \"7.4.5\",\n\t\t\"@babel/preset-react\": \"7.0.0\",\n\t\t\"@babel/runtime\": \"7.4.5\",\n\t\t\"@types/jest\": \"24.0.13\",\n\t\t\"@types/react\": \"16.8.21\",\n\t\t\"@types/react-native\": \"0.57.65\",\n\t\t\"@types/react-test-renderer\": \"16.8.1\",\n\t\t\"babel-eslint\": \"10.0.1\",\n\t\t\"babel-jest\": \"24.8.0\",\n\t\t\"eslint\": \"5.16.0\",\n\t\t\"eslint-config-koot\": \"0.1.0\",\n\t\t\"jest\": \"24.8.0\",\n\t\t\"jsc-android\": \"236355.1.1\",\n\t\t\"lint-staged\": \"8.1.6\",\n\t\t\"metro-react-native-babel-preset\": \"0.53.1\",\n\t\t\"prettier\": \"1.17.0\",\n\t\t\"react-native-typescript-transformer\": \"1.2.12\",\n\t\t\"react-test-renderer\": \"16.8.3\",\n\t\t\"ts-jest\": \"24.0.0\",\n\t\t\"typescript\": \"3.9.9\"\n\t},\n\t\"jest\": {\n\t\t\"jest\": {\n\t\t\t\"preset\": \"react-native\",\n\t\t\t\"moduleFileExtensions\": [\n\t\t\t\t\"ts\",\n\t\t\t\t\"tsx\",\n\t\t\t\t\"js\"\n\t\t\t],\n\t\t\t\"transform\": {\n\t\t\t\t\"^.+\\\\.(js)$\": \"<rootDir>/node_modules/babel-jest\",\n\t\t\t\t\"\\\\.(ts|tsx)$\": \"<rootDir>/node_modules/ts-jest/preprocessor.js\"\n\t\t\t},\n\t\t\t\"testRegex\": \"(/__tests__/.*|\\\\.(test|spec))\\\\.(ts|tsx|js)$\",\n\t\t\t\"testPathIgnorePatterns\": [\n\t\t\t\t\"\\\\.snap$\",\n\t\t\t\t\"<rootDir>/node_modules/\"\n\t\t\t],\n\t\t\t\"cacheDirectory\": \".jest/cache\"\n\t\t}\n\t},\n\t\"husky\": {\n\t\t\"hooks\": {\n\t\t\t\"pre-commit\": \"lint-staged\"\n\t\t}\n\t},\n\t\"lint-staged\": {\n\t\t\"*.{js,jsx,ts,tsx,cjs,mjs}\": [\n\t\t\t\"eslint --fix\",\n\t\t\t\"prettier --write\",\n\t\t\t\"git add\"\n\t\t],\n\t\t\"*.{json,md,css,less,sass,scss}\": [\n\t\t\t\"prettier --write\",\n\t\t\t\"git add\"\n\t\t]\n\t}\n}\n","{\n  \"name\": \"Eve\",\n  \"displayName\": \"Eve\"\n}\n","import { BaseComponent, triggerManager, listenersManager } from 'orionos-eve-core';\nimport React from 'react';\nimport { DeviceEventEmitter, Text, View } from 'react-native';\nimport { DemoScreen } from './demo/DemoScreen';\n\n/**\n * Debug调试界面\n */\nexport default class AppDebug extends BaseComponent {\n\n    constructor(props) {\n        super(props);\n\n        //在单独调试的时候需要添加，否则无法接收语音指令\n        listenersManager.listen(DeviceEventEmitter);\n        triggerManager.start();\n    }\n\n    componentDidMount() {\n        super.componentDidMount();\n    }\n\n    componentWillMount() {\n    }\n\n    componentWillUnmount() {\n        super.componentWillUnmount();\n    }\n\n    render() {\n        return (<DemoScreen/>);\n    }\n}\n"],"names":["_reactNative","r","d","_App","_interopRequireDefault","_package","_app","_AppDebug","console","ignoredYellowBox","disableYellowBox","AppRegistry","registerConfig","appKey","component","App","intent","appId","appid","priority","registerComponent","appName","AppDebug","_Eve","Object","keys","forEach","key","e","defineProperty","enumerable","get","_AppManager","_AppUpdateManager","_Initial","_Utils","appManager","NativeModules","AppManager","this","initialProps","isSupportPlugin","getAppJsonByAppId","newError","DEV_ERROR_SUPPORT","getAppJson","error","getOpkPathByAppId","getOpkPath","getOpkExtraPathByAppId","getOpkExtraPath","getAppIcon","getAppConfig","restartApp","newWarn","path","isSupportNlpParser","setAppPath","version","subPage","setAsyncCustomNlpData","JSON","stringify","app_id","undefined","robotSettingApi","RobotSettingApi","isSupportRobotSettingApi","getRobotString","msg","Promise","reject","getRobotFloat","getRobotInt","value","setRobtoString","setRobtoFloat","setRobtoInt","callbackId","registerRobotSettingListener","unRegisterRobotSettingListener","updateManager","AppUpdateManager","isInitInstall","isUpdating","checkUpdate","updateStatus","updateResult","updateProgress","remove","DeviceEventEmitter","addListener","data","status","parse","count","index","oper","result","message","setUpdateListener","startUpdate","retryUpdate","cancelUpdate","_orionosEveCore","_react","_DemoScreen","TAG","props","_this","_classCallCheck2","default","_super","call","log","_get2","_getPrototypeOf2","prototype","createElement","DemoScreen","BaseComponent","_mobxReact","_DemoViewModel","_DemoVoice","_DemoTrigger","triggerManager","addTrigger","DemoTrigger","observer","onPreviewStatusUpdate","state","onCamareViewCapture","originalImageFile","compressedFile","viewModel","DemoViewModel","voice","DemoVoice","setViewModel","setVoice","View","style","height","display","justifyContent","alignItems","ReceptionRegisterCameraView","width","onPreviewState","onCaptureState","_DemoModel","_apiTrigger","text","demoModel","setInfoText","BaseViewModel","_mobx","DemoModel","infoText","observable","action","id","exit","showSpeechText","BaseVoice","from","to","protocol","eventId","_trigger","Trigger","listenersManager","listen","start"],"mappings":"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"}